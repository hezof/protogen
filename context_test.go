package protogen

import (
	"fmt"
	"path/filepath"
	"strconv"
	"strings"
	"testing"
)

func TestPrintUsage(t *testing.T) {
	fmt.Println(filepath.Join(`D:\tmp\tmp`, `a/b/c`))
}

func TestIt(t *testing.T) {
	var vals [60]string
	const str = `
"44":"3280908253","45":"3284115809","46":"3280214337","47":"3286860644","48":"3281813307","49":"3279689606","50":"3284520402","51":"3285027982","52":"3284101926","53":"3285274947","10":"3284483108","54":"3289177471","11":"3284570790","55":"3282271504","12":"3290883944","56":"3285299752","13":"3283468725","57":"3283755455","14":"3289921008","58":"3280670689","15":"3287651797","59":"3282325402","16":"3286918201","17":"3291185691","18":"3283717836","19":"3286442712","0":"3281791925","1":"3282251924","2":"3282184885","3":"3287397688","4":"3285048121","5":"3285380986","6":"3286286453","7":"3285983302","8":"3286242642","9":"3283745025","20":"3285953993","21":"3282124252","22":"3277917479","23":"3287035534","24":"3281531007","25":"3282157488","26":"3286610951","27":"3289595777","28":"3283481333","29":"3280632787","30":"3280077171","31":"3282940650","32":"3283174903","33":"3286332116","34":"3286499799","35":"3285629213","36":"3282196579","37":"3286052053","38":"3285432863","39":"3284350021","40":"3286917766","41":"3290219744","42":"3287195096","43":"3285992135"
`
	for _, pair := range strings.Split(strings.TrimSpace(str), ",") {
		pos := strings.IndexByte(pair, ':')
		key, err := strconv.Atoi(strings.ReplaceAll(pair[:pos], `"`, ``))
		if err != nil {
			panic(err)
		}
		val := strings.ReplaceAll(pair[pos+1:], `"`, ``)
		vals[key] = val
	}
	fmt.Println(strings.Join(vals[:], ","))
}
