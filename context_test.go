package protogen

import (
	"fmt"
	"path/filepath"
	"strconv"
	"strings"
	"testing"
)

func TestPrintUsage(t *testing.T) {
	fmt.Println(filepath.Join(`D:\tmp\tmp`, `a/b/c`))
}

func TestIt(t *testing.T) {
	var vals [60]string
	const str = `
"0":"37541548","1":"37584536","2":"37520536","3":"37533992","4":"37549145","5":"37553115","6":"37540342","7":"37541388","8":"37566266","9":"37550632","10":"37563098","11":"37581625","12":"37567389","13":"37552923","14":"37577930","15":"37575628","16":"37587695","17":"37578712","18":"37553922","19":"37540223","20":"37582238","21":"37557548","22":"37554311","23":"37542990","24":"37541590","25":"37543558","26":"37519539","27":"37565926","28":"37574490","29":"37494304","30":"37537321","31":"37509778","32":"37561930","33":"37541289","34":"37573689","35":"37564748","36":"37523949","37":"37529177","38":"37568680","39":"37550480","40":"37555924","41":"37587173","42":"37559446","43":"37578175","44":"37520646","45":"37522882","46":"37556723","47":"37571684","48":"37585458","49":"37542863","50":"37529872","51":"37567277","52":"37577303","53":"37571942","54":"37557881","55":"37516883","56":"37559115","57":"37562837","58":"37528529","59":"37515992"
`
	for _, pair := range strings.Split(strings.TrimSpace(str), ",") {
		pos := strings.IndexByte(pair, ':')
		key, err := strconv.Atoi(strings.ReplaceAll(pair[:pos], `"`, ``))
		if err != nil {
			panic(err)
		}
		val := strings.ReplaceAll(pair[pos+1:], `"`, ``)
		vals[key] = val
	}
	fmt.Println(strings.Join(vals[:], ","))
}
